<!DOCTYPE html>
<html>
<head>
    <title>Room Debug Test</title>
</head>
<body>
    <h1>Room Debug Test</h1>
    <button onclick="createRoom()">Create Room</button>
    <button onclick="listRooms()">List All Rooms</button>
    <button onclick="validateRoom()">Validate Room</button>
    <div id="output"></div>

    <script>
        const base = 'http://localhost:3000';
        const output = document.getElementById('output');

        function log(message) {
            output.innerHTML += '<pre>' + message + '</pre>';
        }

        async function createRoom() {
            try {
                log('Creating room...');
                const res = await fetch(base + '/api/rooms', { method: 'POST' });
                const data = await res.json();
                log('Response: ' + JSON.stringify(data, null, 2));
            } catch (error) {
                log('Error: ' + error.message);
            }
        }

        async function listRooms() {
            try {
                log('Listing rooms...');
                const res = await fetch(base + '/api/rooms/debug');
                const data = await res.json();
                log('Response: ' + JSON.stringify(data, null, 2));
            } catch (error) {
                log('Error: ' + error.message);
            }
        }

        async function validateRoom() {
            const roomId = prompt('Enter room ID to validate:');
            if (!roomId) return;
            
            try {
                log('Validating room: ' + roomId);
                const res = await fetch(base + '/api/rooms/' + roomId + '/validate', { method: 'POST' });
                const data = await res.json();
                log('Response: ' + JSON.stringify(data, null, 2));
            } catch (error) {
                log('Error: ' + error.message);
            }
        }
    </script>
</body>
</html>
